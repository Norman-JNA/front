import{a as w,b as V,c as D,d as F,e as H,f as R,i as P}from"./chunk-CTVJXPHK.js";import{e as S,g as j,h as k}from"./chunk-C6FARI7V.js";import{Da as $,Fa as O,Ga as U,Ja as x,Ka as W,a as Q}from"./chunk-XHGTRFWQ.js";import{$ as g,Cb as u,Eb as f,Mb as m,Nb as v,Ob as h,Sa as s,Ta as c,Ub as I,ca as M,da as C,ib as z,ja as G,kb as d,oc as K,qb as b,rb as L,sb as E,ta as J,tb as n,ub as a,vb as p,zb as T}from"./chunk-PA5E6VLY.js";var _=(()=>{let i=class i{constructor(e){this.http=e,this.url=W+":8080",this.reserved=!1}save(e){return this.http.post(this.url+"/vehicle",e)}travelAvailable(){return this.http.get(this.url+"/travel")}infoTravel(e){return this.http.get(this.url+"/travel/info?id="+e)}tomarTravel(e){return this.http.post(this.url+"/travel/reserve",e)}completeTravel(e){return this.http.post(this.url+"/travel/complete",e)}historyTravel(e){return this.http.get(this.url+"/travel/passenger?id="+e)}reserveTravel(e){return this.http.get(this.url+"/travel/reserve?id="+e)}};i.\u0275fac=function(r){return new(r||i)(J(Q))},i.\u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();function ne(t,i){if(t&1){let l=T();n(0,"mat-list-item",3),u("click",function(){let o=M(l).$implicit,y=f();return C(y.goTravel(o))}),n(1,"mat-icon",4),m(2,"directions_car"),a(),n(3,"div",5),m(4),a(),n(5,"div",6),m(6),a(),n(7,"div",6),m(8),a()(),p(9,"hr")}if(t&2){let l=i.$implicit;s(4),v(l.startLocation),s(2),v(l.endLocation),s(2),v(l.starHour)}}var Z=(()=>{let i=class i{constructor(e,r,o){this.route=e,this.passengerService=r,this.messageService=o,this.travels=[]}ngOnInit(){this.passengerService.travelAvailable().subscribe(e=>{e.success?this.travels=e.data:this.messageService.open(e.message)})}goTravel(e){this.passengerService.infoTravel(e.id).subscribe(r=>{r.success?(this.passengerService.travel=r.data,this.passengerService.reserved=!1,this.route.navigate(["passenger/travel/info"])):this.messageService.open(r.message)})}};i.\u0275fac=function(r){return new(r||i)(c(S),c(_),c(x))},i.\u0275cmp=g({type:i,selectors:[["app-travel"]],standalone:!0,features:[I],decls:7,vars:0,consts:[[1,"container","mx-auto","px-4","flex","justify-center",2,"flex-direction","column"],[2,"margin-top","0.8rem","margin-bottom","0.8rem","margin-right","1rem"],["role","list",1,"w-screen"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(r,o){r&1&&(n(0,"div",0)(1,"h3",1),m(2," Viajes disponibles "),a(),n(3,"mat-list",2),p(4,"hr"),L(5,ne,10,3,null,null,b),a()()),r&2&&(s(5),E(o.travels))},dependencies:[P,H,R,F,D,V,w,k,j]});let t=i;return t})();function ae(t,i){t&1&&p(0,"hr",5)}function se(t,i){if(t&1&&(n(0,"p"),m(1),a()),t&2){let l=f();s(),h("Conductor: ",l.passengerService.travel.driver,"")}}function me(t,i){if(t&1&&(n(0,"p"),m(1),a()),t&2){let l=f();s(),h("Telefono: ",l.passengerService.travel.telephone,"")}}function le(t,i){t&1&&p(0,"hr",5)}function ce(t,i){if(t&1&&(n(0,"p"),m(1),a()),t&2){let l=f();s(),h("Vehiculo: ",l.passengerService.travel.vehicle,"")}}function pe(t,i){if(t&1&&(n(0,"p"),m(1),a()),t&2){let l=f();s(),h("Placa: ",l.passengerService.travel.placa,"")}}function ve(t,i){t&1&&p(0,"hr",5)}function de(t,i){if(t&1&&(n(0,"p"),m(1),a()),t&2){let l=f();s(),v(l.passengerService.travel.description)}}function fe(t,i){if(t&1){let l=T();n(0,"button",8),u("click",function(){M(l);let r=f();return C(r.tomarViaje())}),m(1,"Tomar viaje"),a()}}function ue(t,i){if(t&1){let l=T();n(0,"button",8),u("click",function(){M(l);let r=f();return C(r.completarViaje())}),m(1,"Completar viaje"),a()}}function ge(t,i){t&1&&p(0,"mat-progress-bar",9)}var ee=(()=>{let i=class i{constructor(e,r,o){this.passengerService=e,this.route=r,this.messageService=o,this.loading=!1,e.travel||r.navigate(["/passenger/travel/list"])}ngOnInit(){}tomarViaje(){this.loading=!0,this.passengerService.tomarTravel({travelId:this.passengerService.travel.id,userId:localStorage.getItem("Id")}).subscribe(e=>{e.success?(this.loading=!1,this.messageService.open(e.message),this.route.navigate(["/passenger/travel/list"])):(this.messageService.open(e.message),this.loading=!1)})}completarViaje(){this.loading=!0,this.passengerService.completeTravel({travelId:this.passengerService.travel.id,userId:localStorage.getItem("Id")}).subscribe(e=>{e.success?(this.messageService.open(e.message),this.loading=!1,this.route.navigate(["/passenger/travel/reserved"])):(this.loading=!1,this.messageService.open(e.message))})}};i.\u0275fac=function(r){return new(r||i)(c(_),c(S),c(x))},i.\u0275cmp=g({type:i,selectors:[["app-info"]],standalone:!0,features:[I],decls:26,vars:16,consts:[[1,"container","mx-auto","px-4","flex","justify-center"],[2,"width","100%"],[2,"text-align","center"],["style","margin-bottom: 1rem;",4,"ngIf"],[4,"ngIf"],[2,"margin-bottom","1rem"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mode","query",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click"],["mode","query"]],template:function(r,o){r&1&&(n(0,"div",0)(1,"div",1)(2,"h3",2),m(3,"Viaje"),a(),n(4,"p"),m(5),a(),n(6,"p"),m(7),a(),n(8,"p"),m(9),a(),n(10,"p"),m(11),a(),n(12,"p"),m(13),a(),z(14,ae,1,0,"hr",3)(15,se,2,1,"p",4)(16,me,2,1,"p",4)(17,le,1,0,"hr",3)(18,ce,2,1,"p",4)(19,pe,2,1,"p",4)(20,ve,1,0,"hr",3)(21,de,2,1,"p",4),p(22,"hr",5),z(23,fe,2,0,"button",6)(24,ue,2,0,"button",6)(25,ge,1,0,"mat-progress-bar",7),a()()),r&2&&(s(5),h("Lugar de salida: ",o.passengerService.travel.startLocation,""),s(2),h("Destino: ",o.passengerService.travel.endLocation,""),s(2),h("Total de pasajeros: ",o.passengerService.travel.totalPassenger,""),s(2),h("Precio: ",o.passengerService.travel.price," $"),s(2),h("Inicia: ",o.passengerService.travel.starHour," Horas"),s(),d("ngIf",o.passengerService.reserved),s(),d("ngIf",o.passengerService.reserved),s(),d("ngIf",o.passengerService.reserved),s(),d("ngIf",o.passengerService.reserved),s(),d("ngIf",o.passengerService.reserved),s(),d("ngIf",o.passengerService.reserved),s(),d("ngIf",o.passengerService.reserved),s(),d("ngIf",o.passengerService.reserved),s(2),d("ngIf",!o.passengerService.reserved&&!o.loading),s(),d("ngIf",o.passengerService.reserved&&!o.loading),s(),d("ngIf",o.loading))},dependencies:[O,$,K,U]});let t=i;return t})();function he(t,i){if(t&1&&(n(0,"mat-list-item")(1,"mat-icon",3),m(2,"directions_car"),a(),n(3,"div",4),m(4),a(),n(5,"div",5),m(6),a(),n(7,"div",5),m(8),a()(),p(9,"hr")),t&2){let l=i.$implicit;s(4),v(l.startLocation),s(2),v(l.endLocation),s(2),v(l.starHour)}}var te=(()=>{let i=class i{constructor(e,r,o){this.route=e,this.passengerService=r,this.messageService=o,this.travels=[]}ngOnInit(){this.passengerService.historyTravel(localStorage.getItem("Id")).subscribe(e=>{e.success?this.travels=e.data:this.messageService.open(e.message)})}};i.\u0275fac=function(r){return new(r||i)(c(S),c(_),c(x))},i.\u0275cmp=g({type:i,selectors:[["app-historial"]],standalone:!0,features:[I],decls:7,vars:0,consts:[[1,"container","mx-auto","px-4","flex",2,"flex-direction","column"],[2,"margin-top","0.8rem","margin-bottom","0.8rem","margin-right","1rem"],["role","list"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(r,o){r&1&&(n(0,"div",0)(1,"h3",1),m(2," Historial de viajes "),a(),n(3,"mat-list",2),p(4,"hr"),L(5,he,10,3,null,null,b),a()()),r&2&&(s(5),E(o.travels))},dependencies:[P,H,R,F,D,V,w,k,j]});let t=i;return t})();function Ie(t,i){if(t&1){let l=T();n(0,"mat-list-item",3),u("click",function(){let o=M(l).$implicit,y=f();return C(y.goTravel(o))}),n(1,"mat-icon",4),m(2,"directions_car"),a(),n(3,"div",5),m(4),a(),n(5,"div",6),m(6),a(),n(7,"div",6),m(8),a()(),p(9,"hr")}if(t&2){let l=i.$implicit;s(4),v(l.startLocation),s(2),v(l.endLocation),s(2),v(l.starHour)}}var ie=(()=>{let i=class i{constructor(e,r,o){this.route=e,this.passengerService=r,this.messageService=o,this.travels=[]}ngOnInit(){this.passengerService.reserveTravel(localStorage.getItem("Id")).subscribe(e=>{e.success?(console.log(e.data),this.travels=e.data):this.messageService.open(e.message)})}goTravel(e){this.passengerService.infoTravel(e.travelId).subscribe(r=>{r.success?(this.passengerService.travel=r.data,this.passengerService.reserved=!0,this.route.navigate(["passenger/travel/info"])):this.messageService.open(r.message)})}};i.\u0275fac=function(r){return new(r||i)(c(S),c(_),c(x))},i.\u0275cmp=g({type:i,selectors:[["app-reserved"]],standalone:!0,features:[I],decls:7,vars:0,consts:[[1,"container","mx-auto","px-4","flex",2,"flex-direction","column"],[2,"margin-top","0.8rem","margin-bottom","0.8rem","margin-right","1rem"],["role","list",1,"w-screen"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(r,o){r&1&&(n(0,"div",0)(1,"h3",1),m(2," Viajes reservados "),a(),n(3,"mat-list",2),p(4,"hr"),L(5,Ie,10,3,null,null,b),a()()),r&2&&(s(5),E(o.travels))},dependencies:[P,H,R,F,D,V,w,k,j]});let t=i;return t})();var re=(()=>{let i=class i{constructor(e){this.route=e}goTravel(){this.route.navigate(["passenger/travel/list"])}goHistorial(){this.route.navigate(["passenger/travel/history"])}goReserved(){this.route.navigate(["passenger/travel/reserved"])}};i.\u0275fac=function(r){return new(r||i)(c(S))},i.\u0275cmp=g({type:i,selectors:[["app-mainpassenger"]],standalone:!0,features:[I],decls:7,vars:0,consts:[[2,"display","flex","flex-direction","column","align-items","center"],["mat-stroked-button","","color","primary",2,"width","35%","margin-top","1rem",3,"click"]],template:function(r,o){r&1&&(n(0,"div",0)(1,"button",1),u("click",function(){return o.goTravel()}),m(2,"Realizar un viaje"),a(),n(3,"button",1),u("click",function(){return o.goHistorial()}),m(4,"Mis viajes"),a(),n(5,"button",1),u("click",function(){return o.goReserved()}),m(6,"Viajes resevados"),a()())},dependencies:[O,$]});let t=i;return t})();var Ne=[{path:"",component:re},{path:"travel",children:[{path:"list",component:Z},{path:"info",component:ee},{path:"history",component:te},{path:"reserved",component:ie}]}];export{Ne as routes};
